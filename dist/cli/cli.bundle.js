(()=>{var t={6262:(t,e,s)=>{"use strict";const{platform:i,homedir:r}=s(2087),{join:n}=s(5622);function o(){return n(r(),"AppData","Roaming")}function h(){return n(r(),".config")}function a(t){let e=process.env.APPDATA;if(void 0===e)switch(i()){case"win32":e=o();break;case"darwin":e=n(r(),"Library","Application Support");break;case"linux":e=h();break;default:e=i().startsWith("win")?o():h()}if(void 0===t)return e;const s=e!==r()?t:"."+t;return n(e,s)}t.exports=Object.assign(a,{getAppDataPath:a,default:a})},8783:(t,e,s)=>{var i=s(8614).EventEmitter,r=s(3129).spawn,n=s(5622),o=n.dirname,h=n.basename,a=s(5747);function l(t,e){this.flags=t,this.required=t.indexOf("<")>=0,this.optional=t.indexOf("[")>=0,this.bool=-1===t.indexOf("-no-"),(t=t.split(/[ ,|]+/)).length>1&&!/^[[<]/.test(t[1])&&(this.short=t.shift()),this.long=t.shift(),this.description=e||""}function u(t){this.commands=[],this.options=[],this._execs={},this._allowUnknownOption=!1,this._args=[],this._name=t||""}function c(t,e){var s=Math.max(0,e-t.length);return t+Array(s+1).join(" ")}function d(t,e){e=e||[];for(var s=0;s<e.length;s++)"--help"!==e[s]&&"-h"!==e[s]||(t.outputHelp(),process.exit(0))}function p(t){var e=t.name+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"}function m(t){try{if(a.statSync(t).isFile())return!0}catch(t){return!1}}s(1669).inherits(u,i),(e=t.exports=new u).Command=u,e.Option=l,l.prototype.name=function(){return this.long.replace("--","").replace("no-","")},l.prototype.attributeName=function(){return this.name().split("-").reduce((function(t,e){return t+e[0].toUpperCase()+e.slice(1)}))},l.prototype.is=function(t){return this.short===t||this.long===t},u.prototype.command=function(t,e,s){"object"==typeof e&&null!==e&&(s=e,e=null),s=s||{};var i=t.split(/ +/),r=new u(i.shift());return e&&(r.description(e),this.executables=!0,this._execs[r._name]=!0,s.isDefault&&(this.defaultExecutable=r._name)),r._noHelp=!!s.noHelp,this.commands.push(r),r.parseExpectedArgs(i),r.parent=this,e?this:r},u.prototype.arguments=function(t){return this.parseExpectedArgs(t.split(/ +/))},u.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")},u.prototype.parseExpectedArgs=function(t){if(t.length){var e=this;return t.forEach((function(t){var s={required:!1,name:"",variadic:!1};switch(t[0]){case"<":s.required=!0,s.name=t.slice(1,-1);break;case"[":s.name=t.slice(1,-1)}s.name.length>3&&"..."===s.name.slice(-3)&&(s.variadic=!0,s.name=s.name.slice(0,-3)),s.name&&e._args.push(s)})),this}},u.prototype.action=function(t){var e=this,s=function(s,i){s=s||[],i=i||[];var r=e.parseOptions(i);d(e,r.unknown),r.unknown.length>0&&e.unknownOption(r.unknown[0]),r.args.length&&(s=r.args.concat(s)),e._args.forEach((function(t,i){t.required&&null==s[i]?e.missingArgument(t.name):t.variadic&&(i!==e._args.length-1&&e.variadicArgNotLast(t.name),s[i]=s.splice(i))})),e._args.length?s[e._args.length]=e:s.push(e),t.apply(e,s)},i=this.parent||this,r=i===this?"*":this._name;return i.on("command:"+r,s),this._alias&&i.on("command:"+this._alias,s),this},u.prototype.option=function(t,e,s,i){var r=this,n=new l(t,e),o=n.name(),h=n.attributeName();if("function"!=typeof s)if(s instanceof RegExp){var a=s;s=function(t,e){var s=a.exec(t);return s?s[0]:e}}else i=s,s=null;return(!n.bool||n.optional||n.required)&&(n.bool||(i=!0),void 0!==i&&(r[h]=i,n.defaultValue=i)),this.options.push(n),this.on("option:"+o,(function(t){null!==t&&s&&(t=s(t,void 0===r[h]?i:r[h])),"boolean"==typeof r[h]||void 0===r[h]?r[h]=null==t?!!n.bool&&(i||!0):t:null!==t&&(r[h]=t)})),this},u.prototype.allowUnknownOption=function(t){return this._allowUnknownOption=0===arguments.length||t,this},u.prototype.parse=function(t){this.executables&&this.addImplicitHelpCommand(),this.rawArgs=t,this._name=this._name||h(t[1],".js"),this.executables&&t.length<3&&!this.defaultExecutable&&t.push("--help");var e=this.parseOptions(this.normalize(t.slice(2))),s=this.args=e.args,i=this.parseArgs(this.args,e.unknown),r=i.args[0],n=null;return r&&(n=this.commands.filter((function(t){return t.alias()===r}))[0]),!0===this._execs[r]?this.executeSubCommand(t,s,e.unknown):n?(s[0]=n._name,this.executeSubCommand(t,s,e.unknown)):this.defaultExecutable?(s.unshift(this.defaultExecutable),this.executeSubCommand(t,s,e.unknown)):i},u.prototype.executeSubCommand=function(t,e,s){(e=e.concat(s)).length||this.help(),"help"===e[0]&&1===e.length&&this.help(),"help"===e[0]&&(e[0]=e[1],e[1]="--help");var i,l=t[1],u=h(l,n.extname(l))+"-"+e[0],c=a.realpathSync(l);i=o(c);var d,p=n.join(i,u),g=!1;m(p+".js")?(u=p+".js",g=!0):m(p+".ts")?(u=p+".ts",g=!0):m(p)&&(u=p),e=e.slice(1),"win32"!==process.platform?g?(e.unshift(u),e=(process.execArgv||[]).concat(e),d=r(process.argv[0],e,{stdio:"inherit",customFds:[0,1,2]})):d=r(u,e,{stdio:"inherit",customFds:[0,1,2]}):(e.unshift(u),d=r(process.execPath,e,{stdio:"inherit"})),["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((function(t){process.on(t,(function(){!1===d.killed&&null===d.exitCode&&d.kill(t)}))})),d.on("close",process.exit.bind(process)),d.on("error",(function(t){"ENOENT"===t.code?console.error("error: %s(1) does not exist, try --help",u):"EACCES"===t.code&&console.error("error: %s(1) not executable. try chmod or run with root",u),process.exit(1)})),this.runningCommand=d},u.prototype.normalize=function(t){for(var e,s,i,r=[],n=0,o=t.length;n<o;++n){if(e=t[n],n>0&&(s=this.optionFor(t[n-1])),"--"===e){r=r.concat(t.slice(n));break}s&&s.required?r.push(e):e.length>1&&"-"===e[0]&&"-"!==e[1]?e.slice(1).split("").forEach((function(t){r.push("-"+t)})):/^--/.test(e)&&~(i=e.indexOf("="))?r.push(e.slice(0,i),e.slice(i+1)):r.push(e)}return r},u.prototype.parseArgs=function(t,e){var s;return t.length?(s=t[0],this.listeners("command:"+s).length?this.emit("command:"+t.shift(),t,e):this.emit("command:*",t)):(d(this,e),e.length>0&&this.unknownOption(e[0]),0===this.commands.length&&0===this._args.filter((function(t){return t.required})).length&&this.emit("command:*")),this},u.prototype.optionFor=function(t){for(var e=0,s=this.options.length;e<s;++e)if(this.options[e].is(t))return this.options[e]},u.prototype.parseOptions=function(t){for(var e,s,i,r=[],n=t.length,o=[],h=0;h<n;++h)if(i=t[h],e)r.push(i);else if("--"!==i)if(s=this.optionFor(i))if(s.required){if(null==(i=t[++h]))return this.optionMissingArgument(s);this.emit("option:"+s.name(),i)}else s.optional?(null==(i=t[h+1])||"-"===i[0]&&"-"!==i?i=null:++h,this.emit("option:"+s.name(),i)):this.emit("option:"+s.name());else i.length>1&&"-"===i[0]?(o.push(i),h+1<t.length&&"-"!==t[h+1][0]&&o.push(t[++h])):r.push(i);else e=!0;return{args:r,unknown:o}},u.prototype.opts=function(){for(var t={},e=this.options.length,s=0;s<e;s++){var i=this.options[s].attributeName();t[i]=i===this._versionOptionName?this._version:this[i]}return t},u.prototype.missingArgument=function(t){console.error("error: missing required argument `%s'",t),process.exit(1)},u.prototype.optionMissingArgument=function(t,e){e?console.error("error: option `%s' argument missing, got `%s'",t.flags,e):console.error("error: option `%s' argument missing",t.flags),process.exit(1)},u.prototype.unknownOption=function(t){this._allowUnknownOption||(console.error("error: unknown option `%s'",t),process.exit(1))},u.prototype.variadicArgNotLast=function(t){console.error("error: variadic arguments must be last `%s'",t),process.exit(1)},u.prototype.version=function(t,e){if(0===arguments.length)return this._version;this._version=t;var s=new l(e=e||"-V, --version","output the version number");return this._versionOptionName=s.long.substr(2)||"version",this.options.push(s),this.on("option:"+this._versionOptionName,(function(){process.stdout.write(t+"\n"),process.exit(0)})),this},u.prototype.description=function(t,e){return 0===arguments.length?this._description:(this._description=t,this._argsDescription=e,this)},u.prototype.alias=function(t){var e=this;if(0!==this.commands.length&&(e=this.commands[this.commands.length-1]),0===arguments.length)return e._alias;if(t===e._name)throw new Error("Command alias can't be the same as its name");return e._alias=t,this},u.prototype.usage=function(t){var e=this._args.map((function(t){return p(t)})),s="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+e.join(" "):"");return 0===arguments.length?this._usage||s:(this._usage=t,this)},u.prototype.name=function(t){return 0===arguments.length?this._name:(this._name=t,this)},u.prototype.prepareCommands=function(){return this.commands.filter((function(t){return!t._noHelp})).map((function(t){var e=t._args.map((function(t){return p(t)})).join(" ");return[t._name+(t._alias?"|"+t._alias:"")+(t.options.length?" [options]":"")+(e?" "+e:""),t._description]}))},u.prototype.largestCommandLength=function(){return this.prepareCommands().reduce((function(t,e){return Math.max(t,e[0].length)}),0)},u.prototype.largestOptionLength=function(){var t=[].slice.call(this.options);return t.push({flags:"-h, --help"}),t.reduce((function(t,e){return Math.max(t,e.flags.length)}),0)},u.prototype.largestArgLength=function(){return this._args.reduce((function(t,e){return Math.max(t,e.name.length)}),0)},u.prototype.padWidth=function(){var t=this.largestOptionLength();return this._argsDescription&&this._args.length&&this.largestArgLength()>t&&(t=this.largestArgLength()),this.commands&&this.commands.length&&this.largestCommandLength()>t&&(t=this.largestCommandLength()),t},u.prototype.optionHelp=function(){var t=this.padWidth();return this.options.map((function(e){return c(e.flags,t)+"  "+e.description+(e.bool&&void 0!==e.defaultValue?" (default: "+JSON.stringify(e.defaultValue)+")":"")})).concat([c("-h, --help",t)+"  output usage information"]).join("\n")},u.prototype.commandHelp=function(){if(!this.commands.length)return"";var t=this.prepareCommands(),e=this.padWidth();return["Commands:",t.map((function(t){var s=t[1]?"  "+t[1]:"";return(s?c(t[0],e):t[0])+s})).join("\n").replace(/^/gm,"  "),""].join("\n")},u.prototype.helpInformation=function(){var t=[];if(this._description){t=[this._description,""];var e=this._argsDescription;if(e&&this._args.length){var s=this.padWidth();t.push("Arguments:"),t.push(""),this._args.forEach((function(i){t.push("  "+c(i.name,s)+"  "+e[i.name])})),t.push("")}}var i=this._name;this._alias&&(i=i+"|"+this._alias);var r=["Usage: "+i+" "+this.usage(),""],n=[],o=this.commandHelp();o&&(n=[o]);var h=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return r.concat(t).concat(h).concat(n).join("\n")},u.prototype.outputHelp=function(t){t||(t=function(t){return t}),process.stdout.write(t(this.helpInformation())),this.emit("--help")},u.prototype.help=function(t){this.outputHelp(t),process.exit()}},1391:t=>{"use strict";const{FORCE_COLOR:e,NODE_DISABLE_COLORS:s,TERM:i}=process.env,r={enabled:!s&&"dumb"!==i&&"0"!==e,reset:o(0,0),bold:o(1,22),dim:o(2,22),italic:o(3,23),underline:o(4,24),inverse:o(7,27),hidden:o(8,28),strikethrough:o(9,29),black:o(30,39),red:o(31,39),green:o(32,39),yellow:o(33,39),blue:o(34,39),magenta:o(35,39),cyan:o(36,39),white:o(37,39),gray:o(90,39),grey:o(90,39),bgBlack:o(40,49),bgRed:o(41,49),bgGreen:o(42,49),bgYellow:o(43,49),bgBlue:o(44,49),bgMagenta:o(45,49),bgCyan:o(46,49),bgWhite:o(47,49)};function n(t,e){let s,i=0,r="",n="";for(;i<t.length;i++)s=t[i],r+=s.open,n+=s.close,e.includes(s.close)&&(e=e.replace(s.rgx,s.close+s.open));return r+e+n}function o(t,e){let s={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(s)),void 0===e?this:r.enabled?n(this.keys,e+""):e+""):void 0===e?function(t,e){let s={has:t,keys:e};return s.reset=r.reset.bind(s),s.bold=r.bold.bind(s),s.dim=r.dim.bind(s),s.italic=r.italic.bind(s),s.underline=r.underline.bind(s),s.inverse=r.inverse.bind(s),s.hidden=r.hidden.bind(s),s.strikethrough=r.strikethrough.bind(s),s.black=r.black.bind(s),s.red=r.red.bind(s),s.green=r.green.bind(s),s.yellow=r.yellow.bind(s),s.blue=r.blue.bind(s),s.magenta=r.magenta.bind(s),s.cyan=r.cyan.bind(s),s.white=r.white.bind(s),s.gray=r.gray.bind(s),s.grey=r.grey.bind(s),s.bgBlack=r.bgBlack.bind(s),s.bgRed=r.bgRed.bind(s),s.bgGreen=r.bgGreen.bind(s),s.bgYellow=r.bgYellow.bind(s),s.bgBlue=r.bgBlue.bind(s),s.bgMagenta=r.bgMagenta.bind(s),s.bgCyan=r.bgCyan.bind(s),s.bgWhite=r.bgWhite.bind(s),s}([t],[s]):r.enabled?n([s],e+""):e+""}}t.exports=r},7076:t=>{"use strict";class e{constructor({token:t,date:e,parts:s,locales:i}){this.token=t,this.date=e||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((s,i)=>i>t&&s instanceof e))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const s=t.indexOf(this);return t.find(((t,i)=>i>s&&t instanceof e))}toString(){return String(this.date)}}t.exports=e},2102:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(s=t,1==(s%=10)?"st":2===s?"nd":3===s?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var s}}},4990:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}},281:(t,e,s)=>{"use strict";t.exports={DatePart:s(7076),Meridiem:s(3692),Day:s(2102),Hours:s(4990),Milliseconds:s(2491),Minutes:s(1331),Month:s(9219),Seconds:s(1362),Year:s(6600)}},3692:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}},2491:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}},1331:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}},9219:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}}},1362:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}},6600:(t,e,s)=>{"use strict";const i=s(7076);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}},4439:(t,e,s)=>{"use strict";function i(t,e,s,i,r,n,o){try{var h=t[n](o),a=h.value}catch(t){return void s(t)}h.done?e(a):Promise.resolve(a).then(i,r)}const r=s(1391),n=s(1537),o=s(2698),h=o.erase,a=o.cursor,l=s(6513),u=l.style,c=l.clear,d=l.figures,p=l.wrap,m=l.entriesToDisplay,g=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),f=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);t.exports=class extends n{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const s=t.findIndex((t=>t.value===e||t.title===e));return s>-1?s:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=u.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=c("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=g(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(t){var e,s=this;return(e=function*(){const e=s.completing=s.suggest(s.input,s.choices),i=yield e;if(s.completing!==e)return;s.suggestions=i.map(((t,e,s)=>({title:f(s,e),value:g(s,e),description:t.description}))),s.completing=!1;const r=Math.max(i.length-1,0);s.moveSelect(Math.min(r,s.select)),t&&t()},function(){var t=this,s=arguments;return new Promise((function(r,n){var o=e.apply(t,s);function h(t){i(o,r,n,h,a,"next",t)}function a(t){i(o,r,n,h,a,"throw",t)}h(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${t}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,s,i){let n,o=s?d.arrowUp:i?d.arrowDown:" ",h=e?r.cyan().underline(t.title):t.title;return o=(e?r.cyan(d.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n="\n"+p(t.description,{margin:3,width:this.out.columns}))),o+" "+h+r.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(a.hide):this.out.write(c(this.outputText,this.out.columns)),super.render();let t=m(this.select,this.choices.length,this.limit),e=t.startIndex,s=t.endIndex;if(this.outputText=[u.symbol(this.done,this.aborted,this.exited),r.bold(this.msg),u.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(e,s).map(((t,i)=>this.renderOption(t,this.select===i+e,0===i&&e>0,i+e===s-1&&s<this.choices.length))).join("\n");this.outputText+="\n"+(t||r.gray(this.fallback.title))}this.out.write(h.line+a.to(0)+this.outputText)}}},5174:(t,e,s)=>{"use strict";const i=s(1391),r=s(2698).cursor,n=s(4491),o=s(6513),h=o.clear,a=o.style,l=o.figures;t.exports=class extends n{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=h("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase()))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${l.arrowUp}/${l.arrowDown}: Highlight option\n    ${l.arrowLeft}/${l.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:i.gray("Enter something to filter")}\n`}renderOption(t,e,s){let r;return r=e.disabled?t===s?i.gray().underline(e.title):i.strikethrough().gray(e.title):t===s?i.cyan().underline(e.title):e.title,(e.selected?i.green(l.radioOn):l.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[i.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(i.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let t=[a.symbol(this.done,this.aborted),i.bold(this.msg),a.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=i.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=h(t,this.out.columns)}}},2290:(t,e,s)=>{"use strict";const i=s(1391),r=s(1537),n=s(6513),o=n.style,h=n.clear,a=s(2698),l=a.erase,u=a.cursor;t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(u.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[o.symbol(this.done,this.aborted),i.bold(this.msg),o.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:i.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(l.line+u.to(0)+this.outputText))}}},1492:(t,e,s)=>{"use strict";function i(t,e,s,i,r,n,o){try{var h=t[n](o),a=h.value}catch(t){return void s(t)}h.done?e(a):Promise.resolve(a).then(i,r)}function r(t){return function(){var e=this,s=arguments;return new Promise((function(r,n){var o=t.apply(e,s);function h(t){i(o,r,n,h,a,"next",t)}function a(t){i(o,r,n,h,a,"throw",t)}h(void 0)}))}}const n=s(1391),o=s(1537),h=s(6513),a=h.style,l=h.clear,u=h.figures,c=s(2698),d=c.erase,p=c.cursor,m=s(281),g=m.DatePart,f=m.Meridiem,v=m.Day,b=m.Hours,w=m.Milliseconds,y=m.Minutes,x=m.Month,S=m.Seconds,O=m.Year,M=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,k={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new v(t),3:t=>new x(t),4:t=>new O(t),5:t=>new f(t),6:t=>new b(t),7:t=>new y(t),8:t=>new S(t),9:t=>new w(t)},_={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};t.exports=class extends o{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(_,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=l("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=M.exec(t);){let t=e.shift(),s=e.findIndex((t=>null!=t));this.parts.push(s in k?k[s]({token:e[s]||t,date:this.date,parts:this.parts,locales:this.locales}):e[s]||t)}let s=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof g))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return r((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return r((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof g))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(p.hide):this.out.write(l(this.outputText,this.out.columns)),super.render(),this.outputText=[a.symbol(this.done,this.aborted),n.bold(this.msg),a.delimiter(!1),this.parts.reduce(((t,e,s)=>t.concat(s!==this.cursor||this.done?e:n.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":u.pointerSmall} ${n.red().italic(e)}`),"")),this.out.write(d.line+p.to(0)+this.outputText))}}},4910:(t,e,s)=>{"use strict";t.exports={TextPrompt:s(1741),SelectPrompt:s(2289),TogglePrompt:s(8660),DatePrompt:s(1492),NumberPrompt:s(8147),MultiselectPrompt:s(4491),AutocompletePrompt:s(4439),AutocompleteMultiselectPrompt:s(5174),ConfirmPrompt:s(2290)}},4491:(t,e,s)=>{"use strict";const i=s(1391),r=s(2698).cursor,n=s(1537),o=s(6513),h=o.clear,a=o.figures,l=o.style,u=o.wrap,c=o.entriesToDisplay;t.exports=class extends n{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=h("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${a.arrowUp}/${a.arrowDown}: Highlight option\n    ${a.arrowLeft}/${a.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,s,r){const n=(e.selected?i.green(a.radioOn):a.radioOff)+" "+r+" ";let o,h;return e.disabled?o=t===s?i.gray().underline(e.title):i.strikethrough().gray(e.title):(o=t===s?i.cyan().underline(e.title):e.title,t===s&&e.description&&(h=` - ${e.description}`,(n.length+o.length+h.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(h="\n"+u(e.description,{margin:n.length,width:this.out.columns})))),n+o+i.gray(h||"")}paginateOptions(t){if(0===t.length)return i.red("No matches for this query.");let e,s=c(this.cursor,t.length,this.optionsPerPage),r=s.startIndex,n=s.endIndex,o=[];for(let s=r;s<n;s++)e=s===r&&r>0?a.arrowUp:s===n-1&&n<t.length?a.arrowDown:" ",o.push(this.renderOption(this.cursor,t[s],s,e));return"\n"+o.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[i.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(i.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let t=[l.symbol(this.done,this.aborted),i.bold(this.msg),l.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=i.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=h(t,this.out.columns)}}},8147:(t,e,s)=>{"use strict";function i(t,e,s,i,r,n,o){try{var h=t[n](o),a=h.value}catch(t){return void s(t)}h.done?e(a):Promise.resolve(a).then(i,r)}function r(t){return function(){var e=this,s=arguments;return new Promise((function(r,n){var o=t.apply(e,s);function h(t){i(o,r,n,h,a,"next",t)}function a(t){i(o,r,n,h,a,"throw",t)}h(void 0)}))}}const n=s(1391),o=s(1537),h=s(2698),a=h.cursor,l=h.erase,u=s(6513),c=u.style,d=u.figures,p=u.clear,m=u.lines,g=/[0-9]/,f=t=>void 0!==t,v=(t,e)=>{let s=Math.pow(10,e);return Math.round(t*s)/s};t.exports=class extends o{constructor(t={}){super(t),this.transform=c.render(t.style),this.msg=t.message,this.initial=f(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=f(t.min)?t.min:-1/0,this.max=f(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${v(t,this.round)}`),this._value=v(t,this.round)):(this.placeholder=!0,this.rendered=n.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||g.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return r((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return r((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=s,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(a.down(m(this.outputError,this.out.columns)-1)+p(this.outputError,this.out.columns)),this.out.write(p(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[c.symbol(this.done,this.aborted),n.bold(this.msg),c.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:n[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":d.pointerSmall} ${n.red().italic(e)}`),"")),this.out.write(l.line+a.to(0)+this.outputText+a.save+this.outputError+a.restore))}}},1537:(t,e,s)=>{"use strict";const i=s(1058),r=s(6513).action,n=s(8614),o=s(2698),h=o.beep,a=o.cursor,l=s(1391);t.exports=class extends n{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=i.createInterface({input:this.in,escapeCodeTimeout:50});i.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(t,e)=>{let i=r(e,s);!1===i?this._&&this._(t,e):"function"==typeof this[i]?this[i](e):this.bell()};this.close=()=>{this.out.write(a.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(h)}render(){this.onRender(l),this.firstRender&&(this.firstRender=!1)}}},2289:(t,e,s)=>{"use strict";const i=s(1391),r=s(1537),n=s(6513),o=n.style,h=n.clear,a=n.figures,l=n.wrap,u=n.entriesToDisplay,c=s(2698).cursor;t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=h("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(c.hide):this.out.write(h(this.outputText,this.out.columns)),super.render();let t=u(this.cursor,this.choices.length,this.optionsPerPage),e=t.startIndex,s=t.endIndex;if(this.outputText=[o.symbol(this.done,this.aborted),i.bold(this.msg),o.delimiter(!1),this.done?this.selection.title:this.selection.disabled?i.yellow(this.warn):i.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let t=e;t<s;t++){let r,n,o="",h=this.choices[t];n=t===e&&e>0?a.arrowUp:t===s-1&&s<this.choices.length?a.arrowDown:" ",h.disabled?(r=this.cursor===t?i.gray().underline(h.title):i.strikethrough().gray(h.title),n=(this.cursor===t?i.bold().gray(a.pointer)+" ":"  ")+n):(r=this.cursor===t?i.cyan().underline(h.title):h.title,n=(this.cursor===t?i.cyan(a.pointer)+" ":"  ")+n,h.description&&this.cursor===t&&(o=` - ${h.description}`,(n.length+r.length+o.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(o="\n"+l(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${r}${i.gray(o)}\n`}}this.out.write(this.outputText)}}},1741:(t,e,s)=>{"use strict";function i(t,e,s,i,r,n,o){try{var h=t[n](o),a=h.value}catch(t){return void s(t)}h.done?e(a):Promise.resolve(a).then(i,r)}function r(t){return function(){var e=this,s=arguments;return new Promise((function(r,n){var o=t.apply(e,s);function h(t){i(o,r,n,h,a,"next",t)}function a(t){i(o,r,n,h,a,"throw",t)}h(void 0)}))}}const n=s(1391),o=s(1537),h=s(2698),a=h.erase,l=h.cursor,u=s(6513),c=u.style,d=u.clear,p=u.lines,m=u.figures;t.exports=class extends o{constructor(t={}){super(t),this.transform=c.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=d("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=n.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return r((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return r((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(l.down(p(this.outputError,this.out.columns)-1)+d(this.outputError,this.out.columns)),this.out.write(d(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[c.symbol(this.done,this.aborted),n.bold(this.msg),c.delimiter(this.done),this.red?n.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":m.pointerSmall} ${n.red().italic(e)}`),"")),this.out.write(a.line+l.to(0)+this.outputText+l.save+this.outputError+l.restore+l.move(this.cursorOffset,0)))}}},8660:(t,e,s)=>{"use strict";const i=s(1391),r=s(1537),n=s(6513),o=n.style,h=n.clear,a=s(2698),l=a.cursor,u=a.erase;t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(l.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[o.symbol(this.done,this.aborted),i.bold(this.msg),o.delimiter(this.done),this.value?this.inactive:i.cyan().underline(this.inactive),i.gray("/"),this.value?i.cyan().underline(this.active):this.active].join(" "),this.out.write(u.line+l.to(0)+this.outputText))}}},482:(t,e,s)=>{"use strict";function i(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function o(t,e){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=function(t,e){if(t){if("string"==typeof t)return h(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,a=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==s.return||s.return()}finally{if(a)throw n}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function a(t,e,s,i,r,n,o){try{var h=t[n](o),a=h.value}catch(t){return void s(t)}h.done?e(a):Promise.resolve(a).then(i,r)}function l(t){return function(){var e=this,s=arguments;return new Promise((function(i,r){var n=t.apply(e,s);function o(t){a(n,i,r,o,h,"next",t)}function h(t){a(n,i,r,o,h,"throw",t)}o(void 0)}))}}const u=s(2897),c=["suggest","format","onState","validate","onRender","type"],d=()=>{};function p(){return m.apply(this,arguments)}function m(){return(m=l((function*(t=[],{onSubmit:e=d,onCancel:s=d}={}){const i={},n=p._override||{};let h,a,m,f,v,b;t=[].concat(t);const w=function(){var t=l((function*(t,e,s=!1){if(s||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,i):e}));return function(e,s){return t.apply(this,arguments)}}();var y,x=o(t);try{for(x.s();!(y=x.n()).done;){a=y.value;var S=a;if(f=S.name,v=S.type,"function"==typeof v&&(v=yield v(h,r({},i),a),a.type=v),v){for(let t in a){if(c.includes(t))continue;let e=a[t];a[t]="function"==typeof e?yield e(h,r({},i),b):e}if(b=a,"string"!=typeof a.message)throw new Error("prompt message is required");var O=a;if(f=O.name,v=O.type,void 0===u[v])throw new Error(`prompt type (${v}) is not defined`);if(void 0===n[a.name]||(h=yield w(a,n[a.name]),void 0===h)){try{h=p._injected?g(p._injected,a.initial):yield u[v](a),i[f]=h=yield w(a,h,!0),m=yield e(a,h,i)}catch(t){m=!(yield s(a,i))}if(m)return i}else i[f]=h}}}catch(t){x.e(t)}finally{x.f()}return i}))).apply(this,arguments)}function g(t,e){const s=t.shift();if(s instanceof Error)throw s;return void 0===s?e:s}t.exports=Object.assign(p,{prompt:p,prompts:u,inject:function(t){p._injected=(p._injected||[]).concat(t)},override:function(t){p._override=Object.assign({},t)}})},2897:(t,e,s)=>{"use strict";const i=e,r=s(4910),n=t=>t;function o(t,e,s={}){return new Promise(((i,o)=>{const h=new r[t](e),a=s.onAbort||n,l=s.onSubmit||n,u=s.onExit||n;h.on("state",e.onState||n),h.on("submit",(t=>i(l(t)))),h.on("exit",(t=>i(u(t)))),h.on("abort",(t=>o(a(t))))}))}i.text=t=>o("TextPrompt",t),i.password=t=>(t.style="password",i.text(t)),i.invisible=t=>(t.style="invisible",i.text(t)),i.number=t=>o("NumberPrompt",t),i.date=t=>o("DatePrompt",t),i.confirm=t=>o("ConfirmPrompt",t),i.list=t=>{const e=t.separator||",";return o("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},i.toggle=t=>o("TogglePrompt",t),i.select=t=>o("SelectPrompt",t),i.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return o("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},i.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return o("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const h=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));i.autocomplete=t=>(t.suggest=t.suggest||h,t.choices=[].concat(t.choices||[]),o("AutocompletePrompt",t))},3556:t=>{"use strict";t.exports=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}},8296:(t,e,s)=>{"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}const r=s(7734),n=s(2698),o=n.erase,h=n.cursor;t.exports=function(t,e){if(!e)return o.line+h.to(0);let s=0;var n,a=function(t,e){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=function(t,e){if(t){if("string"==typeof t)return i(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,a=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return h=t.done,t},e:function(t){a=!0,o=t},f:function(){try{h||null==s.return||s.return()}finally{if(a)throw o}}}}(t.split(/\r?\n/));try{for(a.s();!(n=a.n()).done;){let t=n.value;s+=1+Math.floor(Math.max([...r(t)].length-1,0)/e)}}catch(t){a.e(t)}finally{a.f()}return o.lines(s)}},2496:t=>{"use strict";t.exports=(t,e,s)=>{s=s||e;let i=Math.min(e-s,t-Math.floor(s/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+s,e)}}},9188:t=>{"use strict";const e={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},s={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?s:e;t.exports=i},6513:(t,e,s)=>{"use strict";t.exports={action:s(3556),clear:s(8296),style:s(2052),strip:s(7734),figures:s(9188),lines:s(7731),wrap:s(8611),entriesToDisplay:s(2496)}},7731:(t,e,s)=>{"use strict";const i=s(7734);t.exports=function(t,e){let s=String(i(t)||"").split(/\r?\n/);return e?s.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):s.length}},7734:t=>{"use strict";t.exports=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),s=new RegExp(e,"g");return"string"==typeof t?t.replace(s,""):t}},2052:(t,e,s)=>{"use strict";const i=s(1391),r=s(9188),n=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),o=Object.freeze({aborted:i.red(r.cross),done:i.green(r.tick),exited:i.yellow(r.cross),default:i.cyan("?")});t.exports={styles:n,render:t=>n[t]||n.default,symbols:o,symbol:(t,e,s)=>e?o.aborted:s?o.exited:t?o.done:o.default,delimiter:t=>i.gray(t?r.ellipsis:r.pointerSmall),item:(t,e)=>i.gray(t?e?r.pointerSmall:"+":r.line)}},8611:t=>{"use strict";t.exports=(t,e={})=>{const s=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+s.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${s}${e}`),t)),[s]).join("\n"))).join("\n")}},8809:(t,e,s)=>{t.exports=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,s=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(s[e]>t[e])return!1;if(t[e]>s[e])return!0}return!1}("8.6.0")?s(482):s(9439)},5468:t=>{"use strict";class e{constructor({token:t,date:e,parts:s,locales:i}){this.token=t,this.date=e||new Date,this.parts=s||[this],this.locales=i||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((s,i)=>i>t&&s instanceof e))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const s=t.indexOf(this);return t.find(((t,i)=>i>s&&t instanceof e))}toString(){return String(this.date)}}t.exports=e},608:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(s=t,1==(s%=10)?"st":2===s?"nd":3===s?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var s}}},4134:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}},1106:(t,e,s)=>{"use strict";t.exports={DatePart:s(5468),Meridiem:s(689),Day:s(608),Hours:s(4134),Milliseconds:s(5479),Minutes:s(5512),Month:s(8318),Seconds:s(8908),Year:s(9958)}},689:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}},5479:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}},5512:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}},8318:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}}},8908:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}},9958:(t,e,s)=>{"use strict";const i=s(5468);t.exports=class extends i{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}},656:(t,e,s)=>{"use strict";const i=s(1391),r=s(1739),{erase:n,cursor:o}=s(2698),{style:h,clear:a,figures:l,wrap:u,entriesToDisplay:c}=s(9016),d=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),p=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const s=t.findIndex((t=>t.value===e||t.title===e));return s>-1?s:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=h.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=a("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=d(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),s=await e;if(this.completing!==e)return;this.suggestions=s.map(((t,e,s)=>({title:p(s,e),value:d(s,e),description:t.description}))),this.completing=!1;const i=Math.max(s.length-1,0);this.moveSelect(Math.min(i,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let s=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${s}${t}${i}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,s,r){let n,o=s?l.arrowUp:r?l.arrowDown:" ",h=e?i.cyan().underline(t.title):t.title;return o=(e?i.cyan(l.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n="\n"+u(t.description,{margin:3,width:this.out.columns}))),o+" "+h+i.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(o.hide):this.out.write(a(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=c(this.select,this.choices.length,this.limit);if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),i.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const s=this.suggestions.slice(t,e).map(((s,i)=>this.renderOption(s,this.select===i+t,0===i&&t>0,i+t===e-1&&e<this.choices.length))).join("\n");this.outputText+="\n"+(s||i.gray(this.fallback.title))}this.out.write(n.line+o.to(0)+this.outputText)}}},6900:(t,e,s)=>{"use strict";const i=s(1391),{cursor:r}=s(2698),n=s(3702),{clear:o,style:h,figures:a}=s(9016);t.exports=class extends n{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=o("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase()))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${a.arrowUp}/${a.arrowDown}: Highlight option\n    ${a.arrowLeft}/${a.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:i.gray("Enter something to filter")}\n`}renderOption(t,e,s){let r;return r=e.disabled?t===s?i.gray().underline(e.title):i.strikethrough().gray(e.title):t===s?i.cyan().underline(e.title):e.title,(e.selected?i.green(a.radioOn):a.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[i.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(i.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let t=[h.symbol(this.done,this.aborted),i.bold(this.msg),h.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=i.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=o(t,this.out.columns)}}},5081:(t,e,s)=>{const i=s(1391),r=s(1739),{style:n,clear:o}=s(9016),{erase:h,cursor:a}=s(2698);t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(a.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),i.bold(this.msg),n.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:i.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(h.line+a.to(0)+this.outputText))}}},1054:(t,e,s)=>{"use strict";const i=s(1391),r=s(1739),{style:n,clear:o,figures:h}=s(9016),{erase:a,cursor:l}=s(2698),{DatePart:u,Meridiem:c,Day:d,Hours:p,Milliseconds:m,Minutes:g,Month:f,Seconds:v,Year:b}=s(1106),w=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,y={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new d(t),3:t=>new f(t),4:t=>new b(t),5:t=>new c(t),6:t=>new p(t),7:t=>new g(t),8:t=>new v(t),9:t=>new m(t)},x={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(x,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=o("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=w.exec(t);){let t=e.shift(),s=e.findIndex((t=>null!=t));this.parts.push(s in y?y[s]({token:e[s]||t,date:this.date,parts:this.parts,locales:this.locales}):e[s]||t)}let s=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof u))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof u))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(l.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),i.bold(this.msg),n.delimiter(!1),this.parts.reduce(((t,e,s)=>t.concat(s!==this.cursor||this.done?e:i.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":h.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(a.line+l.to(0)+this.outputText))}}},635:(t,e,s)=>{"use strict";t.exports={TextPrompt:s(4490),SelectPrompt:s(9770),TogglePrompt:s(4639),DatePrompt:s(1054),NumberPrompt:s(8531),MultiselectPrompt:s(3702),AutocompletePrompt:s(656),AutocompleteMultiselectPrompt:s(6900),ConfirmPrompt:s(5081)}},3702:(t,e,s)=>{"use strict";const i=s(1391),{cursor:r}=s(2698),n=s(1739),{clear:o,figures:h,style:a,wrap:l,entriesToDisplay:u}=s(9016);t.exports=class extends n{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=o("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${h.arrowUp}/${h.arrowDown}: Highlight option\n    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(t,e,s,r){const n=(e.selected?i.green(h.radioOn):h.radioOff)+" "+r+" ";let o,a;return e.disabled?o=t===s?i.gray().underline(e.title):i.strikethrough().gray(e.title):(o=t===s?i.cyan().underline(e.title):e.title,t===s&&e.description&&(a=` - ${e.description}`,(n.length+o.length+a.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(a="\n"+l(e.description,{margin:n.length,width:this.out.columns})))),n+o+i.gray(a||"")}paginateOptions(t){if(0===t.length)return i.red("No matches for this query.");let e,{startIndex:s,endIndex:r}=u(this.cursor,t.length,this.optionsPerPage),n=[];for(let i=s;i<r;i++)e=i===s&&s>0?h.arrowUp:i===r-1&&r<t.length?h.arrowDown:" ",n.push(this.renderOption(this.cursor,t[i],i,e));return"\n"+n.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const t=[i.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(i.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let t=[a.symbol(this.done,this.aborted),i.bold(this.msg),a.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=i.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=o(t,this.out.columns)}}},8531:(t,e,s)=>{const i=s(1391),r=s(1739),{cursor:n,erase:o}=s(2698),{style:h,figures:a,clear:l,lines:u}=s(9016),c=/[0-9]/,d=t=>void 0!==t,p=(t,e)=>{let s=Math.pow(10,e);return Math.round(t*s)/s};t.exports=class extends r{constructor(t={}){super(t),this.transform=h.render(t.style),this.msg=t.message,this.initial=d(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=d(t.min)?t.min:-1/0,this.max=d(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${p(t,this.round)}`),this._value=p(t,this.round)):(this.placeholder=!0,this.rendered=i.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||c.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=s,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(n.down(u(this.outputError,this.out.columns)-1)+l(this.outputError,this.out.columns)),this.out.write(l(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),i.bold(this.msg),h.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:i[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":a.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(o.line+n.to(0)+this.outputText+n.save+this.outputError+n.restore))}}},1739:(t,e,s)=>{"use strict";const i=s(1058),{action:r}=s(9016),n=s(8614),{beep:o,cursor:h}=s(2698),a=s(1391);t.exports=class extends n{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const e=i.createInterface({input:this.in,escapeCodeTimeout:50});i.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(t,e)=>{let i=r(e,s);!1===i?this._&&this._(t,e):"function"==typeof this[i]?this[i](e):this.bell()};this.close=()=>{this.out.write(h.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(o)}render(){this.onRender(a),this.firstRender&&(this.firstRender=!1)}}},9770:(t,e,s)=>{"use strict";const i=s(1391),r=s(1739),{style:n,clear:o,figures:h,wrap:a,entriesToDisplay:l}=s(9016),{cursor:u}=s(2698);t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=o("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(u.hide):this.out.write(o(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=l(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[n.symbol(this.done,this.aborted),i.bold(this.msg),n.delimiter(!1),this.done?this.selection.title:this.selection.disabled?i.yellow(this.warn):i.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let s=t;s<e;s++){let r,n,o="",l=this.choices[s];n=s===t&&t>0?h.arrowUp:s===e-1&&e<this.choices.length?h.arrowDown:" ",l.disabled?(r=this.cursor===s?i.gray().underline(l.title):i.strikethrough().gray(l.title),n=(this.cursor===s?i.bold().gray(h.pointer)+" ":"  ")+n):(r=this.cursor===s?i.cyan().underline(l.title):l.title,n=(this.cursor===s?i.cyan(h.pointer)+" ":"  ")+n,l.description&&this.cursor===s&&(o=` - ${l.description}`,(n.length+r.length+o.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(o="\n"+a(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${r}${i.gray(o)}\n`}}this.out.write(this.outputText)}}},4490:(t,e,s)=>{const i=s(1391),r=s(1739),{erase:n,cursor:o}=s(2698),{style:h,clear:a,lines:l,figures:u}=s(9016);t.exports=class extends r{constructor(t={}){super(t),this.transform=h.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=a("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=i.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let s=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${s}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(l(this.outputError,this.out.columns)-1)+a(this.outputError,this.out.columns)),this.out.write(a(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),i.bold(this.msg),h.delimiter(this.done),this.red?i.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,s)=>t+`\n${s?" ":u.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(n.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore+o.move(this.cursorOffset,0)))}}},4639:(t,e,s)=>{const i=s(1391),r=s(1739),{style:n,clear:o}=s(9016),{cursor:h,erase:a}=s(2698);t.exports=class extends r{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),i.bold(this.msg),n.delimiter(this.done),this.value?this.inactive:i.cyan().underline(this.inactive),i.gray("/"),this.value?i.cyan().underline(this.active):this.active].join(" "),this.out.write(a.line+h.to(0)+this.outputText))}}},9439:(t,e,s)=>{"use strict";const i=s(8378),r=["suggest","format","onState","validate","onRender","type"],n=()=>{};async function o(t=[],{onSubmit:e=n,onCancel:s=n}={}){const a={},l=o._override||{};let u,c,d,p,m,g;t=[].concat(t);const f=async(t,e,s=!1)=>{if(s||!t.validate||!0===t.validate(e))return t.format?await t.format(e,a):e};for(c of t)if(({name:p,type:m}=c),"function"==typeof m&&(m=await m(u,{...a},c),c.type=m),m){for(let t in c){if(r.includes(t))continue;let e=c[t];c[t]="function"==typeof e?await e(u,{...a},g):e}if(g=c,"string"!=typeof c.message)throw new Error("prompt message is required");if(({name:p,type:m}=c),void 0===i[m])throw new Error(`prompt type (${m}) is not defined`);if(void 0===l[c.name]||(u=await f(c,l[c.name]),void 0===u)){try{u=o._injected?h(o._injected,c.initial):await i[m](c),a[p]=u=await f(c,u,!0),d=await e(c,u,a)}catch(t){d=!await s(c,a)}if(d)return a}else a[p]=u}return a}function h(t,e){const s=t.shift();if(s instanceof Error)throw s;return void 0===s?e:s}t.exports=Object.assign(o,{prompt:o,prompts:i,inject:function(t){o._injected=(o._injected||[]).concat(t)},override:function(t){o._override=Object.assign({},t)}})},8378:(t,e,s)=>{"use strict";const i=e,r=s(635),n=t=>t;function o(t,e,s={}){return new Promise(((i,o)=>{const h=new r[t](e),a=s.onAbort||n,l=s.onSubmit||n,u=s.onExit||n;h.on("state",e.onState||n),h.on("submit",(t=>i(l(t)))),h.on("exit",(t=>i(u(t)))),h.on("abort",(t=>o(a(t))))}))}i.text=t=>o("TextPrompt",t),i.password=t=>(t.style="password",i.text(t)),i.invisible=t=>(t.style="invisible",i.text(t)),i.number=t=>o("NumberPrompt",t),i.date=t=>o("DatePrompt",t),i.confirm=t=>o("ConfirmPrompt",t),i.list=t=>{const e=t.separator||",";return o("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},i.toggle=t=>o("TogglePrompt",t),i.select=t=>o("SelectPrompt",t),i.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return o("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},i.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return o("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const h=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));i.autocomplete=t=>(t.suggest=t.suggest||h,t.choices=[].concat(t.choices||[]),o("AutocompletePrompt",t))},2866:t=>{"use strict";t.exports=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}},8694:(t,e,s)=>{"use strict";const i=s(9420),{erase:r,cursor:n}=s(2698);t.exports=function(t,e){if(!e)return r.line+n.to(0);let s=0;const o=t.split(/\r?\n/);for(let t of o)s+=1+Math.floor(Math.max([...i(t)].length-1,0)/e);return r.lines(s)}},2163:t=>{"use strict";t.exports=(t,e,s)=>{s=s||e;let i=Math.min(e-s,t-Math.floor(s/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+s,e)}}},4815:t=>{"use strict";const e={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},s={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?s:e;t.exports=i},9016:(t,e,s)=>{"use strict";t.exports={action:s(2866),clear:s(8694),style:s(424),strip:s(9420),figures:s(4815),lines:s(4985),wrap:s(8524),entriesToDisplay:s(2163)}},4985:(t,e,s)=>{"use strict";const i=s(9420);t.exports=function(t,e){let s=String(i(t)||"").split(/\r?\n/);return e?s.map((t=>Math.ceil(t.length/e))).reduce(((t,e)=>t+e)):s.length}},9420:t=>{"use strict";t.exports=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),s=new RegExp(e,"g");return"string"==typeof t?t.replace(s,""):t}},424:(t,e,s)=>{"use strict";const i=s(1391),r=s(4815),n=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),o=Object.freeze({aborted:i.red(r.cross),done:i.green(r.tick),exited:i.yellow(r.cross),default:i.cyan("?")});t.exports={styles:n,render:t=>n[t]||n.default,symbols:o,symbol:(t,e,s)=>e?o.aborted:s?o.exited:t?o.done:o.default,delimiter:t=>i.gray(t?r.ellipsis:r.pointerSmall),item:(t,e)=>i.gray(t?e?r.pointerSmall:"+":r.line)}},8524:t=>{"use strict";t.exports=(t,e={})=>{const s=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+s.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${s}${e}`),t)),[s]).join("\n"))).join("\n")}},2698:t=>{"use strict";const e={to:(t,e)=>e?`[${e+1};${t+1}H`:`[${t+1}G`,move(t,e){let s="";return t<0?s+=`[${-t}D`:t>0&&(s+=`[${t}C`),e<0?s+=`[${-e}A`:e>0&&(s+=`[${e}B`),s},up:(t=1)=>`[${t}A`,down:(t=1)=>`[${t}B`,forward:(t=1)=>`[${t}C`,backward:(t=1)=>`[${t}D`,nextLine:(t=1)=>"[E".repeat(t),prevLine:(t=1)=>"[F".repeat(t),left:"[G",hide:"[?25l",show:"[?25h",save:"7",restore:"8"},s={screen:"[2J",up:(t=1)=>"[1J".repeat(t),down:(t=1)=>"[J".repeat(t),line:"[2K",lineEnd:"[K",lineStart:"[1K",lines(t){let s="";for(let i=0;i<t;i++)s+=this.line+(i<t-1?e.up():"");return t&&(s+=e.left),s}};t.exports={cursor:e,scroll:{up:(t=1)=>"[S".repeat(t),down:(t=1)=>"[T".repeat(t)},erase:s,beep:""}},3129:t=>{"use strict";t.exports=require("child_process")},8614:t=>{"use strict";t.exports=require("events")},5747:t=>{"use strict";t.exports=require("fs")},2087:t=>{"use strict";t.exports=require("os")},5622:t=>{"use strict";t.exports=require("path")},1058:t=>{"use strict";t.exports=require("readline")},1669:t=>{"use strict";t.exports=require("util")}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}(()=>{"use strict";var t=s(8783),e=s(8809),i=s(5747),r=s(5622),n=s(6262);const o=require("crypto"),h={STRONG:"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLLZXCVBNM1234567890!@#$%^&*()_-=+/?.,<>",MIDDLE:"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLLZXCVBNM1234567890",LIGHT:"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLLZXCVBNM"};function a({value:t="",salt:e="",algorithm:s="sha512",keyLength:i=256,alphabet:r=h.STRONG,iterations:n=1e5}={}){return[...o.pbkdf2Sync(t,e,n,i,s)].reduce(((t,e,s)=>(s%16==0?t.push(e):t[t.length-1]+=e,t)),[]).map((t=>t<=r.length?r[t]:r[t%r.length])).join("")}function l({iterations:t=1,alphabet:e=h.STRONG}={}){return a({value:o.randomBytes(256),salt:o.randomBytes(256),alphabet:e,iterations:t})}const u=n(),c=r.join(u,".ppass"),d=r.join(c,".token");function p(){console.error("> To set a new token, you must have permissions"),console.error(`>   remove with sudo: ${d}`)}function m(){return i.existsSync(d)}function g(t=""){m()?p():(i.writeFileSync(d,t),function(t=256){const e=i.openSync(d,"r");i.fchmodSync(e,t)}(256))}function f(){return i.readFileSync(d).toString()}i.existsSync(u)||i.mkdirSync(u),i.existsSync(c)||i.mkdirSync(c);const v={password:{type:"password",name:"password",message:"Type password"},setToken:{type:"text",name:"token",message:"Type token"},configureOptions:{type:"select",name:"option",message:"Pick configure option",choices:[{title:"Generate new token",value:"generate",description:"The old token will be removed. You can not restore old passwords"},{title:"Set token",description:"Set new token",value:"set"},{title:"Get token",description:"Get current token",value:"get"},{title:"Get token path",value:"path"}],initial:0},configureOptionsInit:{type:"select",name:"option",message:"Pick configure option",choices:[{title:"Generate new token",value:"generate",description:"We'll generate a token for you..."},{title:"Set token",description:"If you have a token (after migrating from another computer) or you would like to create a token yourself",value:"set"}],initial:0},usePasswords:{type:"select",name:"option",message:"What do you want?",choices:[{title:"Show passwords",value:"show"},{title:"Copy STRONG password",value:"strong"},{title:"Copy MIDDLE password",value:"middle"},{title:"Copy LIGHT password",value:"light"}],initial:0},continue:{type:"confirm",name:"value",message:"Continue?",initial:!0}};async function b(){const{option:t}=await e(m()?v.configureOptions:v.configureOptionsInit);switch(t){case"set":{const{token:t}=await e(v.setToken);g(t);break}case"get":console.log("Your token:"),console.log(f());break;case"generate":{console.log("One moment. We are creating new token for you...");const t=function(){if(m())return p(),"";const t=new Array(100).fill(null).map((()=>l())).join("");return g(t),t}();if(!t)return"";console.log(t);break}case"path":console.log("File path:",d)}switch(t){case"set":case"get":case"generate":console.log("______________"),console.log("Save the token to a USB flash drive. Hide the flash drive in the pillow. Hide the pillow in the safe."),console.log("More information: https://github.com/AndreiSoroka/ppass")}return t}var w=s(3129);let y=!0;const x={command:"",args:[]};switch(process.platform){case"darwin":x.command="pbcopy";break;case"win32":x.command="clip";break;case"linux":case"freebsd":x.command="xclip",x.args=["-selection","clipboard"];break;default:y=!1}function S(t){return function(t){return y?new Promise(((e,s)=>{const i=(0,w.spawn)(x.command,x.args);i.on("error",(t=>{s(t)})),i.on("close",(()=>{e()})),i.stdin.write(t),i.stdin.end()})):Promise.reject()}(t).then((()=>(console.log("Copied to clipboard!"),!0))).catch((()=>(console.error("Could not copy to clipboard! Sorry.,,"),!1)))}async function O(t,s){let i="show";switch(y&&(i=(await e(v.usePasswords)).option),i){case"show":console.log("Generated:"),Object.keys(h).forEach((e=>{console.log(`${e}:`,t({...s,alphabet:h[e]}))}));break;case"strong":await S(t({...s,alphabet:h.STRONG}));break;case"middle":await S(t({...s,alphabet:h.MIDDLE}));break;case"light":await S(t({...s,alphabet:h.LIGHT}))}}const M=new t.Command;M.version("0.1.2"),M.option("-r, --random","generate random password").option("-c, --configure","configure workspace (!important for the first run)"),M.parse(process.argv);const k=M.opts();(async function(){(m()||k.configure||await async function(){if(console.log("Hello!"),!await b())return!1;console.log("______________");const{value:t}=await e(v.continue);return console.log("Good"),!!t||(console.log("Bye!"),!1)}())&&(k.random?await async function(){await O(l,{})}():k.configure?await b():await async function(){const{password:t}=await e(v.password);await O(a,{value:t,salt:f(),algorithm:"sha512"})}())})().then()})()})();